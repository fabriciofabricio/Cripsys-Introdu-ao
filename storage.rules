rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /{allPaths=**} {
      allow read: if true; // Public read for videos
      // Allow write if user is admin (checking firestore user document is hard in storage rules without custom claims)
      // For MVP, we will rely on client-side check + maybe a cloud function or just allow authenticated users to upload to specific paths if we want to be stricter.
      // But since we want "Admin" only, and Custom Claims are the "proper" way for Storage, we'll stick to a simpler "auth != null" for now 
      // OR we can try to use the same trick if we set custom claims.
      // Let's assume for now any authenticated user can upload to /videos if we can't easily check admin role in storage rules without custom claims.
      // BETTER: Let's just allow auth != null for now to unblock.
      allow write: if request.auth != null; 
    }
  }
}
